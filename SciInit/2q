\documentclass{article}
 \usepackage{bookmark}
 \usepackage{amsmath}
 \usepackage{amsthm}
 \usepackage{amssymb}
 \usepackage{tikz}
 \usepackage{pgfplots}
 \usepackage[utf8]{inputenc}
 \usepackage{amsfonts}
 \usepackage[margin=2.5cm]{geometry}
 \usepackage{graphicx}
 \usepackage[export]{adjustbox}
 \usepackage{fancyhdr}
 \usepackage[portuguese]{babel}
 \usepackage{hyperref}
 \usepackage{multirow}
 \usepackage{lastpage}
 \usepackage{mathtools}
 \usepackage{newtxsf}
 \usepackage{subfiles}
 \usepackage[T1]{fontenc}
 \setcounter{section}{-1}

 \pagestyle{fancy}
 \fancyhf{}

 \pgfplotsset{compat = 1.18}

 \hypersetup{
     colorlinks,
     citecolor=black,
     filecolor=black,
     linkcolor=black,
     urlcolor=black
 }
 \newtheorem*{def*}{\underline{Definição}}
 \newtheorem*{theorem*}{\underline{Teorema}}
 \newtheorem*{lemma*}{\underline{Lema}}
 \newtheorem*{prop*}{\underline{Proposição}}
 \newtheorem{example}{\underline{Exemplo}}
 \newtheorem*{proof*}{\underline{Prova}}
 \newtheorem*{crl*}{\underline{Corolário}}
 \newtheorem{exr}{\underline{Exercício}}
 \renewcommand\qedsymbol{$\blacksquare$}

 \rfoot{Página \thepage \hspace{1pt} de \pageref{LastPage}}

\begin{document}
\begin{figure}[ht]
	\minipage{0.76\textwidth}
	\includegraphics[width=4cm]{../icmc.png}
	\hspace{7cm}
	\includegraphics[height=4.9cm,width=4cm]{../brasao_usp_cor.jpg}
	\endminipage
\end{figure}

\begin{center}
	\vspace{1cm}
	\LARGE
	UNIVERSIDADE DE SÃO PAULO

	\vspace{1.3cm}
	\LARGE
	INSTITUTO DE CIÊNCIAS MATEMÁTICAS E COMPUTACIONAIS - ICMC

	\vspace{1.7cm}
	\Large
	\textbf{Iterated Function Systems}
	\large\text{A probabilistic approach to fractals}

	\vspace{1.3cm}
	\large
	\textbf{Renan Wenzel e Bella Rocxane}

	\vspace{1.3cm}
	\large
	\textbf{Professor(a): Tiago Pereira da Silva}

	\vspace{1.3cm}
	\today
\end{center}

\newpage

\tableofcontents

\newpage
\section{What You Should Know}
Here, I'll briefly talk about cylinder sets, Hausdorff metric and such

\hypertarget{fixed_point_theorem}{Fixed Point Theorem Statement}
\newpage
\section{The Coding Map}
Our context here is to take consider the workspace as the probability space \((\Sigma_{k} , \mathcal{B}(\Sigma ), \mathbb{P})\). More explicitly,
the elements we'll work with are in \(\Sigma_{k} = \{1,\dotsc , k\}^{\mathbb{N}}\) - sequences of digits whose values are natural numbers between 1 and k -
as well as looking at a Borel \(\sigma-\)algebra \(\mathcal{B}(\Sigma )\) on \(\Sigma_{k} \), \textit{i.e.}, the \(\sigma-\)algebra generated by open sets,
and since the topology is generated by cylinder sets, they are themselves these open sets. The probability here will be taken as
\[
	\mathbb{P}([a_{0}, a_{1}, \dotsc , a_{l}]) = \prod\limits_{i=0}^{l}p_{a_{i}},\quad \sum\limits_{i=0}^{k}p_{i}=1.
\]
For instance, if \([a_{0}, a_{1}, \dotsc , a_{l}] = (1,2,0,3,4),\) then
\[
	\mathbb{P}([a_{0}, a_{1}, \dotsc , a_{l}]) = p_{1}\cdot p_{2}\cdot p_{0}\cdot p_{3}\cdot p_{4},
\]
where \(\sum\limits_{i=0}^{4}p_{i} = 1\). It should be noted that there is the possibility of changing \(\mathbb{P}\) to a finite measure on \(\mathcal{B}(\Sigma )\),
but one does not gain much from this, since it can be done by simply multiplying the values of \(\mu \) by their inverse.

We can now go to the first main theorem, where the \textit{coding map} will be defined:
\begin{theorem*}[The Coding Map]
	Let \(f_{1},\dotsc , f_{k}:M\rightarrow M\) be a family of contractions indexed according to the set \(\Sigma_{k}\), and \(\mathcal{K}\) be the Hutchinson Attractor. For all sequences
	\(\omega  \) in \(\mathcal{C}\), where \(\mathcal{C}\) is a cylinder set, the limit
	\[
		\pi(\omega )=\lim_{n\to \infty} f_{\omega_{0}}\circ f_{\omega_{1}}\circ\cdots\circ f_{\omega_{n}}
	\]
	exists and is independent of p. Moreover, \(\pi(\Sigma_{k})\) is exactly \(\mathcal{K}\).
\end{theorem*}
One way to think of this theorem is that no matter how a person may shuffle the indices of a sequence \(\omega \), composing \(f_{i}\)'s according to the numbers in it
will yield \(\mathcal{K}\) as a result, and, pointwise, no matter the point p of M where they are applied, the final composition will land inside \(\mathcal{K}\).

\begin{proof*}
	For starters, let \(p\in \mathcal{K}\). One thing to realise is: for each additional time some of the \(f_{i}\)'s is applied to \(\mathcal{K}\), it will contract ever more, so that
	\[
		\mathcal{K}\supseteq f_{\omega_{0}}\supseteq \dotsc \supseteq f_{\omega_{0}}\circ f_{\omega_{1}}\circ\cdots\circ f_{\omega_{n}}(\mathcal{K}) \supseteq f_{\omega_{0}}\circ f_{\omega_{1}}\circ\cdots\circ f_{\omega_{n+1}}(\mathcal{K})
	\]
	furthermore, the diameter keeps getting smaller, until it reaches value 0, meaning the set \(\mathcal{K}\) will contract so much that it becomes a single point
	when infinitely many iterations of f are made, and such point must be inside each of the previous iterations (you can't contract something away from the set because
	of the chains of subsets mentioned above), i.e.,
	\[
		\lim_{n\to \infty}f_{\omega_{0}}\circ \dotsc \circ f_{\omega_{n}}(\mathcal{K}) \subseteq \bigcap_{n\in \mathbb{N}}^{}f_{\omega_{0}}\circ f_{\omega_{1}}\circ\cdots\circ f_{\omega_{n}} (\mathcal{K})
	\]
	Using the fact that \(f_{i}(\mathcal{K})\) is closed for \(1\leq i\leq k\), the following is also true:
	\[
		\lim_{n\to \infty} f_{\omega_{0}}\circ f_{\omega_{1}}\circ\cdots\circ f_{\omega_{n}}(p)\in \bigcap_{n\in \mathbb{N}}^{}f_{\omega_{0}}\circ f_{\omega_{1}}\circ\cdots\circ f_{\omega_{n}} (\mathcal{K}),
	\]
	which proves the existence of the limit and its independence of p.

	However, this is does not suffice - the theorem is stated for points that are also outside \(\mathcal{K}\), and that will be the next step; take \(q\not\in \mathcal{K}\). Using the \hyperlink{fixed_point_theorem}{\textit{Fixed Point Theorem}},
	we know that applying the family of contractions \(\{f_{i}\}_{i=1}^{k}\) infinitely many times will inevitably lead to the same point, so that \(\{f_{\omega_{0}}\circ \dotsc \circ f_{\omega_{n}}(q)\}_{n}\) and \(\{f_{\omega_{0}}\circ \dotsc \circ
	f_{\omega_{n}}(p)\}_{n}\) converge to the same point, and by the argument made for p, that point is in \(\mathcal{K}\).

	Now, what remains to prove is that \(\pi(\Sigma_{k})=\mathcal{K} \), which is the same as proving that when you collect all points resulted from applying \(\pi\) to individual sequences \(\omega\in \Sigma_{k}\), and put them in a set,
	that set coincides exactly with \(\mathcal{K}\). This also allows us to think of \(\mathcal{K}\) as ``the set of all shuffles of \(f_{\omega_{0}}\circ f_{\omega_{1}}\circ\cdots\circ f_{\omega_{n}}(p)\)''. To reach this goal, the first step
	will be to prove the continuity of \(\pi \).

	\textbf{\underline{Claim}:} \(\pi \) is a continuous mapping. In other words, we mean to show that for all \(\varepsilon >0\), there exists a cylinder (the open sets in the preimage) such that
	\[
		\nu\in \mathcal{C} \Rightarrow d(\pi(\nu), \pi(\omega ))<\varepsilon .
	\]
	We already know that \(\pi (\omega )\) in in \(\mathcal{K}\) for all sequences in \(\Sigma_{k}\). Moreover, becauso of \(\mathcal{K}\) being a compact set, it is bounded, and thus its diameter is finite, let's say
	\[
		\mathrm{diam}(\mathcal{K})=\alpha < \infty.
	\]
	Let \(\lambda \) be the greatest factor of the family of contractions, so that
	\[
		\lambda =\max_{1\leq i\leq k}\{\lambda_{i}\} < 1 \quad\&\quad \lim_{n\to \infty}\lambda^{n}=0.
	\]
	Hence, there exists a number \(N\coloneqq N(\varepsilon )\), positive, such that
	\[
		\lambda^{N}\cdot \alpha < \varepsilon .
	\]
	That will be the foundation for a candidate as our cylinder, \textit{i.e.}, \(\mathcal{C}(\varepsilon ) = [\omega_{0}, \dotsc , \omega_{N}]\). For any sequence \(\omega \) inside \(\mathcal{C}(\varepsilon )\), then,
	\begin{align*}
		\pi (\omega ) & = f_{\omega_{0}}\circ f_{\omega_{1}}\circ\cdots\circ f_{\omega_{N}}\circ f_{\omega_{N+1}}\circ \dotsc   \\
		              & = f_{\omega_{0}}\circ f_{\omega_{1}}\circ\cdots\circ f_{\omega_{N}}(\circ f_{\omega_{N+1}}\circ \dotsc) \\
		              & = f_{\omega_{0}}\circ f_{\omega_{1}}\circ\cdots\circ f_{\omega_{N}}(\pi(\sigma^{N}(\omega ))).
	\end{align*}
	Thus,
	\begin{align*}
		d(\pi (\nu), \pi (\omega )) & = d(\lim_{n\to \infty}f_{\nu_{0}}\circ f_{\nu_{1}}\circ\cdots\circ f_{\nu_{n}}(p), \lim_{n\to \infty}f_{\omega_{0}}\circ f_{\omega_{1}}\circ\cdots\circ f_{\omega_{n}}(p))     \\
		                            & = d(f_{\nu{0}}\circ f_{\nu{1}}\circ\cdots\circ f_{\nu{N}}(\pi(\sigma^{N}(\nu ))), f_{\omega_{0}}\circ f_{\omega_{1}}\circ\cdots\circ f_{\omega_{N}}(\pi(\sigma^{N}(\omega )))) \\
		                            & \leq \lambda^{N+1}d(\pi(\sigma^{N}(\nu)), \pi(\sigma^{N}(\omega)))                                                                                                             \\
		                            & <\lambda ^{N+1}\alpha<\varepsilon ,\quad \forall \nu\in \mathcal{C}. \blacktriangle
	\end{align*}
\end{proof*}
\section{Usual-order Iterations}

\section*{Appendix A - \(\sigma \)-Algebras, Measures, and Borel \(\sigma \)-Algebras}

\section*{Appendix B - Cylinder Sets}

\end{document}
